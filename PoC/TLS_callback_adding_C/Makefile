# main:
# 	gcc -o encryptor.exe encryptor.c
# 	nasm -f win64 -o start.o start.asm
# 	gcc start.o decryptor.c shellcode.c -o shellcode.exe -O2 -flto -Wall -Wextra -fdata-sections -ffunction-sections -fno-asynchronous-unwind-tables -fno-ident -nostdlib 
# 	# ./encryptor.exe

# main:
# 	
# 	nasm -f win64 -o start.o start.asm
# 	gcc start.o shellcode.c -o shellcode.exe -O2 -flto -Wall -Wextra -fdata-sections -ffunction-sections -fno-asynchronous-unwind-tables -fno-ident -nostdlib -T linkscript.ld
# 	# ./encryptor.exe
main:
	gcc -o encryptor.exe encryptor.c
	nasm -f win64 -o start.o start.asm
	gcc start.o shellcode.c -o shellcode.exe -flto -g -Wall -Wextra -fdata-sections -ffunction-sections -fno-asynchronous-unwind-tables -fno-ident -nostdlib
	./encryptor.exe 
	
run: shellcode.exe
	./shellcode.exe